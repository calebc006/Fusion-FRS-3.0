<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>FR Live</title>
    <link rel="icon" href="../static/fusionlogo.png" />
    <link rel="stylesheet" href="../static/css/main.css" />
    <link rel="stylesheet" href="../static/css/index.css" />
    <link rel="stylesheet" href="../static/css/taskbar.css" />
    <link rel="stylesheet" href="../static/css/form.css" />
  </head>
  <body class="bg-image" style="background-image: url('../static/welcome_bg.png')">
    <!-- Logos -->
    <div class="flex-container-logo">
      <img class="logo" src="../static/armylogo.png" />
      <img class="logo" src="../static/11logo.png" />
      <img class="fusion-logo" src="../static/fusionlogo.png" />
    </div>

    <!-- Contains flags and detections -->
    <div id="main-container">
      <div id="country-flag-container" class="country-flag-container">
        <img id="country-flag-img" src="" alt="Country Flag" style="display: none;" />
      </div>
      <div class="detection-list-container">
        <div class="detections" id="detections-list"></div>
      </div>
    </div>

    <!-- Bottom Taskbar -->
    <div class="taskbar-placeholder">
      <div class="taskbar">
        <button id="open-video-modal-button">Open Video</button>
        <button id="end_stream_button">End Stream</button>
      </div>
    </div>

    <!-- Video Modal -->
    <div id="video-modal" class="modal hidden">
      <div class="modal-overlay"></div>
      <div class="modal-content">
        <div class="modal-header">
          <h2>Video Feed</h2>
          <button id="close-video-modal" class="modal-close">Ã—</button>
        </div>
        <div id="video-container">
          <object id="video-feed" type="image/jpeg">
            <img src="../static/default.jpg" alt="default video image" />
          </object>
        </div>
      </div>
    </div>

    <!-- Initialisation form -->
    <form id="init" class="form">
      <label for="stream_src_select">Video Stream Source</label>
        <select id="stream_src_select" class="init-input" name="stream_src" required>
          <option value="rtsp://admin:CV@hikvision@192.168.1.65">192.168.1.65</option>
          <option value="rtsp://admin:CV@hikvision@192.168.1.66">192.168.1.66</option>
          <option value="rtsp://admin:CV@hikvision@192.168.1.67">192.168.1.67</option>
          <option value="rtsp://admin:CV@hikvision@192.168.1.68">192.168.1.68</option>
          <option value="rtsp://admin:CV@hikvision@192.168.1.69">192.168.1.69</option>
          <option value="rtsp://admin:CV@hikvision@192.168.1.70">192.168.1.70</option>
          <option value="custom">Custom</option>
        </select>
      <input type="url" id="stream_src_custom" class="init-input" style="display:none;" placeholder="Enter custom RTSP URL" />

      <div class="break"></div>
      <label for="data_file">Path to JSON file</label>
      <input type="text" id="data_file" class="init-input" name="data_file" />
      <div class="break"></div>

      <input
        type="submit"
        id="submit-button"
        class="submit-button"
        value="Submit"
      />
    </form>
    
    <script type="module" src="../static/js/index.js"></script>
    <script type="module" src="../static/js/taskbar.js"></script>
  </body>
</html>
